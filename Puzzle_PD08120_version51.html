<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            background-image: url(/nen1.webp);
        }

        * {
            margin: 0 auto;
            padding: 0px;
        }

        .bao {
            width: 1100px;
            height: 600px;
        }

        .btn {
            height: 90px;
            width: 90px;
            font-size: 40px;
            font-weight: bold;
            border: 5px;
        }

        .board {
            display: flex;
            flex-wrap: wrap;
            height: 450px;
            width: 450px;
            margin-left: 20px;
        }

        .menu {
            height: 15px;
            width: auto;
            margin-top: 5px;

        }

        .main {
            font-weight: bold;
            background-color: #f7f1e3;
            border-radius: 5px;
        }

        .menu a {
            text-decoration: none;
        }

        .board {
            margin-left: 25px;
        }

        aside {
            float: left;
            width: 300px;
        }

        article {
            float: left;
            width: 500px;
        }

        article .menu {
            text-align: center;
        }

        aside.doc2 {
            float: right;
            padding-right: 0px;
        }

        footer {
            clear: both;
            background-color: #54a0ff;
            width: 100%;
            height: 20px;
            text-align: center;
            font-weight: bold;
        }
    </style>
</head>

<body>

    <div class="bao">

        <head>
            <div class="chaychu">
                <div class="text" style="padding-top: 5px;">
                    <marquee behavior="" direction="">Ch√†o m·ª´ng c√°c b·∫°n ƒë√£ ƒë·∫øn v·ªõi Games Puzzel ƒë∆∞·ª£c x√¢y d·ª±ng b·ªüi T√∫ L√™
                        -
                        Ch√∫c
                        c√°c b·∫°n ch∆°i vui v·∫ª üòÇüòÇ
                    </marquee>
                </div>
            </div>
        </head>
        <aside class="doc1">
            <div class="mg1">
                <a href="https://www.facebook.com/ChuyenVienBDSLH0327578990"><img src="banner-bat-dong-san-doc-01.jpg"
                        alt=""></a>
            </div>
        </aside>
        <article>

            <div class="board">
                <audio id="clickaudio" src="/am.mp3"></audio>
                <audio id="chienthang" src="/win.mp3"></audio>
                <button onclick=" move(0,0)" id="b00" class="btn"></button>
                <button onclick=" move(0,1)" id="b01" class="btn"></button>
                <button onclick=" move(0,2)" id="b02" class="btn"></button>
                <button onclick=" move(0,3)" id="b03" class="btn"></button>
                <button onclick=" move(0,4)" id="b04" class="btn"></button>
                <br>
                <button onclick=" move(1,0)" id="b10" class="btn"></button>
                <button onclick=" move(1,1)" id="b11" class="btn"></button>
                <button onclick=" move(1,2)" id="b12" class="btn"></button>
                <button onclick=" move(1,3)" id="b13" class="btn"></button>
                <button onclick=" move(1,4)" id="b14" class="btn"></button>
                <br>
                <button onclick=" move(2,0)" id="b20" class="btn"></button>
                <button onclick=" move(2,1)" id="b21" class="btn"></button>
                <button onclick=" move(2,2)" id="b22" class="btn"></button>
                <button onclick=" move(2,3)" id="b23" class="btn"></button>
                <button onclick=" move(2,4)" id="b24" class="btn"></button>
                <br>
                <button onclick=" move(3,0)" id="b30" class="btn"></button>
                <button onclick=" move(3,1)" id="b31" class="btn"></button>
                <button onclick=" move(3,2)" id="b32" class="btn"></button>
                <button onclick=" move(3,3)" id="b33" class="btn"></button>
                <button onclick=" move(3,4)" id="b34" class="btn"></button>
                <br>
                <button onclick=" move(4,0)" id="b40" class="btn"></button>
                <button onclick=" move(4,1)" id="b41" class="btn"></button>
                <button onclick=" move(4,2)" id="b42" class="btn"></button>
                <button onclick=" move(4,3)" id="b43" class="btn"></button>
                <button onclick=" move(4,4)" id="b44" class="btn"></button>
            </div>
            <div class="menu">
                <button onclick="randomMove()" class="main">X√°o tr·ªôn</button>
                <button onclick="" class="main">
                    <a href="Puzzle_PD08120_version41.html" style="color: black;">Back level</a>
                </button>
                <button onclick="doiMau()" class="main">ƒê·ªïi m√†u</button>
                <button onclick="luatchoi()" class="main">Lu·∫≠t ch∆°i</button>
                <audio id="myaudio" src="/audio.mp3" autoplay></audio>
                <button onclick="toggleAudio(),unmuteAudio(),unmuteChienthang()" class="main"><img src="/3.png"
                        width="20px" height="15px"></button>
                <button onclick="untoggleAudio(),muteAudio(),muteChienThang()" class="main"><img src="/4.png"
                        width="20px" height="15px"></button>
            </div>
            <a href="https://www.facebook.com/TrungTamNgoaiNguGOET/photos"><img src="ngang.jpg" alt="" width="450px"
                    height="120px" style="margin-left: 25px;margin-top: 10px;"></a>
        </article>
        <aside class="doc2">
            <a href="https://www.facebook.com/congtydia/?locale=vi_VN"><img src="banner-bat-dong-san-doc-03.jpg"
                    alt=""></a>
        </aside>
        <footer>
            <p>Copyright @ 2023 Designed by L√™ B√° T√∫ IT18303</p>
        </footer>
    </div>

    <script>
        //t·∫°o data
        const data = [
            ["1", "2", "3", "4", "5"],
            ["6", "7", "8", "9", "10"],
            ["11", "12", "13", "14", "15"],
            ["16", "17", "18", "19", "20"],
            ["21", "22", "23", "24", " "]
        ];

        const ketqua = [
            ["1", "2", "3", "4", "5"],
            ["6", "7", "8", "9", "10"],
            ["11", "12", "13", "14", "15"],
            ["16", "17", "18", "19", "20"],
            ["21", "22", "23", "24", " "]
        ];

        const b = [
            [document.getElementById("b00"), document.getElementById("b01"), document.getElementById("b02"), document.getElementById("b03"), document.getElementById("b04")],
            [document.getElementById("b10"), document.getElementById("b11"), document.getElementById("b12"), document.getElementById("b13"), document.getElementById("b14")],
            [document.getElementById("b20"), document.getElementById("b21"), document.getElementById("b22"), document.getElementById("b23"), document.getElementById("b24")],
            [document.getElementById("b30"), document.getElementById("b31"), document.getElementById("b32"), document.getElementById("b33"), document.getElementById("b34")],
            [document.getElementById("b40"), document.getElementById("b41"), document.getElementById("b42"), document.getElementById("b43"), document.getElementById("b44")],
        ];
        // Ki·ªÉm tra nh·∫°c n·ªÅn ƒë√£ t·∫Øt ch∆∞a
        function untoggleAudio() {
            let audio = document.getElementById("myaudio");
            if (audio.played) {
                audio.pause();
            }
        }
        //Ki·ªÉm tra hi·ªáu ·ª©ng √¢m thanh c√°c button ƒë√£ t·∫Øt ch∆∞a
        function muteAudio() {
            let audio = document.getElementById("clickaudio");
            if (audio.muted = true) {
                audio.pause();
            }
        }
        var soundon = true;
        function muteChienThang() {
            return soundon = false;
        }
        function unmuteChienthang() {
            return soundon = true;
        }
        //Ki·ªÉm tra hi·ªáu ·ª©ng √¢m thanh c√°c button ƒë√£ m·ªü ch∆∞a
        function unmuteAudio() {
            let audio = document.getElementById("clickaudio");
            if (audio.muted = false) {
                audio.play();
            }
        }
        // Ki·ªÉm tra nh·∫°c n·ªÅn ƒë√£ m·ªü ch∆∞a
        function toggleAudio() {
            var audio = document.getElementById("myaudio");
            if (audio.paused) {
                audio.play();
            }
        }
        // B·∫≠t hi·ªáu ·ª©ng √¢m thanh c√°c button
        function audio() {
            var audio = document.getElementById("clickaudio");
            audio.play();
        }
        //Ki·ªÉm tra ng∆∞·ªùi ch∆°i ƒë√£ s·∫Øp x·∫øp ƒë√∫ng theo th·ª© t·ª±
        function checkin() {
            let dem = 0;
            for (let i = 0; i < 5; i++) {
                for (let j = 0; j < 5; j++) {
                    if (data[i][j] == ketqua[i][j]) {
                        dem++;
                    }

                }
            }
            if (dem == 25) return true;
            else return false;
        }
        //ki·ªÉm tra c√°c button
        function namTrong(i, j) {
            if (i >= 0 && i < 5 && j >= 0 && j < 5) return true;
            else false;
        }
        // di chuy·ªÉn c√°c button
        function move(i, j) {
            if (namTrong(i, j + 1) && data[i][j + 1] == " ") {
                data[i][j + 1] = data[i][j];
                data[i][j] = " ";
                audio()
            }
            else if (namTrong(i, j - 1) && data[i][j - 1] == " ") {
                data[i][j - 1] = data[i][j];
                data[i][j] = " "
                audio()
            }
            else if (namTrong(i + 1, j) && data[i + 1][j] == " ") {
                data[i + 1][j] = data[i][j];
                data[i][j] = " ";
                audio()
            }
            else if (namTrong(i - 1, j) && data[i - 1][j] == " ") {
                data[i - 1][j] = data[i][j];
                data[i][j] = " ";
                audio()
            }

            veSo();
            if (checkin() == true) {
                let chienthang = document.getElementById("chienthang");
                if (soundon) { chienthang.play(); }
                let isAlertDisplayed = false; // bi·∫øn l∆∞u tr·ªØ tr·∫°ng th√°i th√¥ng b√°o ƒëang hi·ªÉn th·ªã

                setInterval(() => {
                    if (chienthang.currentTime >= 0) {
                        if (!isAlertDisplayed) { // n·∫øu th√¥ng b√°o ch∆∞a ƒë∆∞·ª£c hi·ªÉn th·ªã
                            alert('B·∫°n ƒë√£ chi·∫øn th·∫Øng');
                            isAlertDisplayed = true; // ƒë√°nh d·∫•u th√¥ng b√°o ƒë√£ ƒë∆∞·ª£c hi·ªÉn th·ªã
                        }
                    } else {
                        isAlertDisplayed = false; // ƒë·∫∑t l·∫°i tr·∫°ng th√°i th√¥ng b√°o
                    }
                }, 100);

                document.getElementById("upto5").hidden = false;// hi·ªÉn th·ªã button next level

            }

        }
        // cho gi√° tr·ªã ng·∫©u nhi√™n
        function randInt(n) {
            return Math.floor(Math.random() * n);
        }
        //  ho√°n ƒë·ªïi c√°c button ng·∫©u nhi√™n
        function randomMove() {
            for (let i = 0; i < 5; i++) {
                for (let j = 0; j < 5; j++) {
                    data[i][j] = ketqua[i][j];
                }
            }

            let u = 4, v = 4;
            let soLan = 0;
            do {
                switch (randInt(4)) {
                    case 0:
                        if (namTrong(u, v - 1)) {
                            data[u][v] = data[u][v - 1];
                            data[u][v - 1] = " ";
                            v = v - 1;
                        }
                        break;
                    case 1:
                        if (namTrong(u - 1, v)) {
                            data[u][v] = data[u - 1][v];
                            data[u - 1][v] = " ";
                            u = u - 1;
                        }
                        break;
                    case 2:
                        if (namTrong(u, v + 1)) {
                            data[u][v] = data[u][v + 1];
                            data[u][v + 1] = " "
                            v = v + 1;
                        }
                        break;
                    case 3:
                        if (namTrong(u + 1, v)) {
                            data[u][v] = data[u + 1][v];
                            data[u + 1][v] = " ";
                            u = u + 1;
                        }
                        break;

                }
                soLan++;
            }
            while (soLan < 2000);
            veSo();
        }
        // Th√¥ng b√°o lu·∫≠t ch∆°i
        function luatchoi() {
            alert("Di chuy·ªÉn c√°c √¥ chung c·∫°nh v·ªõi √¥ tr·ªëng sao cho c√°c s√¥ trong √¥ vu√¥ng tƒÉng d·∫ßn t·ª´ tr√°i sang ph·∫£i v√† t·ª´ tr√™n xu·ªëng d∆∞·ªõi!");
        }
        // v·∫Ω s·ªë
        function veSo() {
            for (let i = 0; i < 5; i++) {
                for (let j = 0; j < 5; j++) {
                    b[i][j].textContent = data[i][j];
                }
            }
        }
        // t·∫°o b·∫£ng m√†u
        const bangMau = ["#45aaf2", "#f5f6fa", "#ffcccc", "#f78fb3", "#81ecec", "#00cec9", "#74b9ff", "#0984e3", "#dfe6e9", "#b2bec3", "#E7B10A", "#898121", "#f8c291", "#fad390"];
        let mau = 0;
        //---------------------------------------
        // ƒë·ªïi m√†u trong b·∫£ng
        function doiMau() {
            if (mau < bangMau.length - 2) mau++;
            else mau = 0;
            veMauNen();
        }
        // v·∫Ω l·∫°i m√†u n·ªÅn button
        function veMauNen() {
            for (let i = 0; i < 5; i++) {
                for (let j = 0; j < 5; j++) {
                    if ((i + j) % 2 == 0) {
                        b[i][j].style.background = bangMau[mau];
                    }
                    else
                        b[i][j].style.background = bangMau[mau + 1];
                }
            }
        }
        veMauNen();
        veSo();
        randomMove();



    </script>
</body>

</html>